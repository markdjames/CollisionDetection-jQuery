(function($){$.fn.collision=function(args){var d=this;var s=(args.smoothing==null)?0:args.smoothing;var i=0;this.draggable({start:function(){args.start(d);},drag:function(){if(i==s){$(args.target).each(function(){t=$(this);dl=d.offset().left;dt=d.offset().top;dr=d.offset().left+d.innerWidth();db=d.offset().top+d.innerHeight();tl=t.offset().left;tr=t.offset().left+t.innerWidth();tt=t.offset().top;tb=t.offset().top+t.innerHeight();if(((dl>tl)&&(dl<tr)&&(dt>tt)&&(dt<tb))||((dr>tl)&&(dr<tr)&&(dt>tt)&&(dt<tb))||((dl>tl)&&(dl<tr)&&(db>tt)&&(db<tb))||((dr>tl)&&(dr<tr)&&(db>tt)&&(db<tb))||((dr>tr)&&(dl<tl)&&(dt>tt)&&(dt<tb))||((dr>tr)&&(dl<tl)&&(db<tb)&&(db>tt))||((dt<tt)&&(db>tb)&&(dr<tr)&&(dr>tl))||((dt<tt)&&(db>tb)&&(dl>tl)&&(dl<tr))){args.oncollide(t);}else{args.uncollide(t);}});i=0;}else{i++;}},stop:function(){args.end(d);}});};})(jQuery);